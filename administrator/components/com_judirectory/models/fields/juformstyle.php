<?php/** * ------------------------------------------------------------------------ * JUDirectory for Joomla 2.5, 3.x * ------------------------------------------------------------------------ * * @copyright      Copyright (C) 2010-2015 JoomUltra Co., Ltd. All Rights Reserved. * @license        GNU General Public License version 2 or later; see LICENSE.txt * @author         JoomUltra Co., Ltd * @website        http://www.joomultra.com * @----------------------------------------------------------------------@ */// No direct access to this filedefined('_JEXEC') or die('Restricted access');if (!defined('"/"')){	define('"/"', DIRECTORY_SEPARATOR);}jimport('joomla.form.formfield');class JFormFieldJUFormStyle extends JFormField{	protected $type = 'JUFormStyle';		protected function getLabel()	{		return '<div id="' . $this->id . '" style="display: none;"></div>';	}	protected function getInput()	{				$jQueryisLoaded = false;		$document       = JFactory::getDocument();				if (JFactory::getApplication()->input->get('option') == 'com_plugins')		{			$base_path = JUri::root(true) . '/plugins/' . $this->form->getValue('folder') . '/' . $this->form->getValue('element');		}		else		{			$base_path = JUri::root(true) . '/modules/' . $this->form->getValue('module');		}				$isJoomla3x = version_compare(JVERSION, '3.0', 'ge');				$document->addScript($base_path . '/admin/js/jquery-junoconflict.js');														$document->addScript($base_path . '/admin/js/chosen/jquery.actual.min.js');				if (!$isJoomla3x)		{									JText::script('JGLOBAL_SELECT_SOME_OPTIONS');			JText::script('JGLOBAL_SELECT_AN_OPTION');			JText::script('JGLOBAL_SELECT_NO_RESULTS_MATCH');			$document->addScript($base_path . '/admin/js/chosen/jquery.chosen.js');			JFactory::getDocument()->addScriptDeclaration('					try {						jQuery(document).ready(function ($){							$(".form-validate select").chosen({								disable_search_threshold : 10,								allow_single_deselect : true							}).change(function(){								if(typeof(validate) == "function") {									validate();								}							});						});					} catch(e) {}				');			$document->addStyleSheet($base_path . '/admin/js/chosen/chosen.css');		}		else		{			JHtml::_('formbehavior.chosen');		}		$addclass_js = "";		if (!$isJoomla3x)		{			$fieldset_addclass_j25     = $this->element['fieldset_addclass_j25'];			$fieldset_addclass_j25_arr = explode(",", $fieldset_addclass_j25);			foreach ($fieldset_addclass_j25_arr AS $fieldset_itm)			{				$fieldset_arr = explode(":", $fieldset_itm);				if ($fieldset_itm)				{					$fieldset_number = trim($fieldset_arr[0]);					$fieldset_class  = trim($fieldset_arr[1]);					$addclass_js .= "\t$('form[name=adminForm] div.panel').eq(" . $fieldset_number . ").find('h3.title').addClass('" . $fieldset_class . "');\n";				}			}		}		else		{			$fieldset_addclass_j3x     = $this->element['fieldset_addclass_j3x'];			$fieldset_addclass_j3x_arr = explode(",", $fieldset_addclass_j3x);			foreach ($fieldset_addclass_j3x_arr AS $fieldset_itm)			{				$fieldset_arr = explode(":", $fieldset_itm);				if ($fieldset_itm)				{					$fieldset_number = trim($fieldset_arr[0]);					$fieldset_class  = trim($fieldset_arr[1]);					$addclass_js .= "\t$('form[name=adminForm] ul.nav-tabs li').eq(" . $fieldset_number . ").addClass('" . $fieldset_class . "');\n";				}			}		}				JFactory::getDocument()->addScriptDeclaration("jQuery(document).ready(function ($){\n" . $addclass_js . "});\n");				$document->addScript($base_path . '/admin/js/radio-group.min.js');				$document->addScript($base_path . '/admin/js/colorpicker/colorpicker.js');		$document->addScript($base_path . '/admin/js/colorpicker.min.js');		$document->addStyleSheet($base_path . '/admin/js/colorpicker/colorpicker.css');				$document->addScript($base_path . '/admin/js/jufilter.min.js');				$document->addScript($base_path . '/admin/js/jugroup.min.js');				$document->addScript($base_path . '/admin/js/javascript.js');				if (!$isJoomla3x)		{			$document->addStyleSheet($base_path . '/admin/css/styles.css');		}		else		{			$document->addStyleSheet($base_path . '/admin/css/styles_j3.css');		}		$document->addStyleSheet($base_path . '/admin/css/fieldstyle.css');				$document->addScriptDeclaration("jQuery(document).ready(function(\$){\$('#" . $this->id . "').parent().remove();});");		return false;	}}?>