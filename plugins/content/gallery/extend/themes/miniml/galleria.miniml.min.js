/* Galleria Miniml Theme 2012-04-04 | http://galleria.io/license/ | (c) Aino */(function(a){Galleria.addTheme({name:"miniml",author:"Galleria",css:"galleria.miniml.css",defaults:{transition:"pulse",thumbCrop:!0,imageCrop:!0,carousel:!1,imagePan:!0,clicknext:!0,_locale:{enter_fullscreen:"Enter fullscreen",exit_fullscreen:"Exit fullscreen",click_to_close:"Click to close",show_thumbnails:"Show thumbnails",show_info:"Show info"}},init:function(b){var c=this,d=!1,e,f=0,g,h,i;this.addElement("desc","dots","thumbs","fs","more"),this.append({container:["desc","dots","thumbs","fs","info-description","more"]}),i=this.$("thumbnails-container").hide().css("visibility","visible");var j=function(b){return a("<div>").click(function(a){return function(b){b.preventDefault(),c.show(a)}}(b))};for(e=0;e<this.getDataLength();e++)this.$("dots").append(j(e));f=this.$("dots").outerWidth(),g=this.$("desc").hide().hover(function(){a(this).addClass("hover")},function(){a(this).removeClass("hover")}).click(function(){a(this).hide()}),h=this.$("loader"),this.bindTooltip({fs:function(){return d?b._locale.exit_fullscreen:b._locale.enter_fullscreen},desc:b._locale.click_to_close,more:b._locale.show_info,thumbs:b._locale.show_thumbnails}),this.bind("loadstart",function(a){a.cached||this.$("loader").show().fadeTo(200,.4)}),this.bind("loadfinish",function(a){var d=c.getData().title,e=c.getData().description;g.hide(),h.fadeOut(200),this.$("dots").children("div").eq(a.index).addClass("active").siblings(".active").removeClass("active"),d&&e?(g.empty().append("<strong>"+d+"</strong>","<p>"+e+"</p>").css({marginTop:this.$("desc").outerHeight()/-2}),this.$("more").show()):this.$("more").hide(),i.fadeOut(b.fadeSpeed),c.$("thumbs").removeClass("active")}),this.bind("thumbnail",function(b){a(b.thumbTarget).hover(function(){c.setInfo(b.index)},function(){c.setInfo()})}),this.$("fs").click(function(){c.toggleFullscreen(),d=!d}),this.$("thumbs").click(function(b){b.preventDefault(),i.toggle(),a(this).toggleClass("active"),g.hide()}),this.$("more").click(function(){g.toggle()}),this.$("info").css({width:this.getStageWidth()-f-30,left:f+10})}})})(jQuery);